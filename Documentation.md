# Документация интернет-магазина "Автозапчасти"

## 1. Структура проекта
```
/
├── auth/               # Авторизация и регистрация
│   ├── index.html
│   ├── style.css
│   └── script.js
├── dashboard/          # Главная страница покупателя
│   ├── index.html
│   ├── style.css
│   └── script.js
├── cart/               # Корзина покупок
│   ├── index.html
│   ├── style.css
│   └── script.js
├── checkout/           # Оформление заказа
│   ├── index.html
│   ├── style.css
│   └── script.js
├── order/              # История заказов
│   ├── order-history.html
│   ├── style.css
│   └── script.js
├── data/
│   └── products.json   # База товаров
└── shared/
    ├── style.css       # Глобальные стили
    └── script.js       # Общие скрипты
```

## 2. Основные модули

### 2.1 Авторизация (`/auth`)
**Функционал:**
- Переключение между ролями (Покупатель/Продавец/Админ)
- Регистрация нового пользователя
- Валидация полей
- Сохранение данных в localStorage

**Особенности:**
- Динамическое добавление поля "Секретный ключ" для админа
- Переключение между формами входа и регистрации

### 2.2 Каталог товаров (`/dashboard`)
**Основные функции:**
- Фильтрация по параметрам:
  - Марка и модель авто
  - Год выпуска
  - Цена (слайдер)
  - Состояние (новые/б.у)
  - Категория запчастей
- Поиск по названию и VIN
- Система рейтинга продавцов
- Модальное окно с деталями товара

**Технологии:**
- Динамическая загрузка товаров из JSON
- Адаптивная сетка товаров
- Ленивая загрузка изображений

### 2.3 Корзина (`/cart`)
**Функционал:**
- Управление количеством товаров
- Расчет стоимости доставки
- Динамическое обновление итогов
- Переход к оформлению заказа

**Особенности:**
- Использование localStorage для хранения корзины
- Анимация добавления товаров

### 2.4 Оформление заказа (`/checkout`)
**Компоненты:**
- Форма ввода данных доставки
- Выбор способа оплаты (карта/наложенный платеж)
- Генерация QR-кода для оплаты
- Валидация платежных данных

**Безопасность:**
- Маскировка ввода карты (xxxx xxxx xxxx xxxx)
- Шифрование CVV при имитации платежа

### 2.5 История заказов (`/order`)
**Функции:**
- Просмотр истории заказов
- Отмена и удаление заказов
- Фильтрация по статусам
- Детализация заказа

## 3. Взаимодействие с данными

### 3.1 Хранение данных
- **localStorage**:
  - `userData` - данные пользователя
  - `cart` - содержимое корзины
  - `orders` - история заказов

### 3.2 products.json
Структура товара:
```json
{
  "id": 1,
  "name": "Тормозные колодки Toyota Corolla",
  "brand": "Toyota",
  "price": 12500,
  "specifications": {
    "material": "Керамика",
    "warranty": "2 года"
  },
  "images": ["path/to/image.webp"]
}
```

## 4. API-имитация
**Эндпоинты:**
- Загрузка товаров: GET `/data/products.json`
- Расчет доставки: функция `calculateDistanceFromMoscow()`
- Обработка платежа: функция `processPayment()`

## 5. Зависимости
- **Font Awesome** 6.0.0 (иконки)
- **Google Fonts** (системные шрифты)
- **QRcode API** (генерация QR-кодов)

## 6. Инструкция по запуску
1. Установите Live Server расширение для VS Code
2. Откройте папку проекта
3. Запустите `auth/index.html`
4. Используйте тестовые данные:
   - Email: `test@example.com`
   - Пароль: `123456`

## 7. Пример запроса
**Добавление в корзину:**
```javascript
function addToCart(product) {
  const existingItem = cart.find(item => item.id === product.id);
  if (existingItem) {
    existingItem.quantity += 1;
  } else {
    cart.push({...product, quantity: 1});
  }
  localStorage.setItem('cart', JSON.stringify(cart));
}
```

## 8. Особенности реализации
- Адаптивный дизайн (mobile-first)
- CSS-переменные для темизации
- Оптимизация производительности:
  - Виртуализация списка товаров
  - Кэширование изображений
  - Дебаунс для поиска
